---
title: Get-CsCdrConfiguration
TOCTitle: Get-CsCdrConfiguration
ms:assetid: 4af8ffa2-63d3-4873-8dac-5afede090d4f
ms:mtpsurl: https://technet.microsoft.com/ru-ru/library/Gg398298(v=OCS.15)
ms:contentKeyID: 49309692
ms.date: 05/19/2016
mtps_version: v=OCS.15
ms.translationtype: HT
---

# Get-CsCdrConfiguration

 

_**Дата изменения раздела:** 2015-03-09_

Возвращает информацию о ваших параметрах регистрации вызовов (CDR). CDR позволяет отслеживать использование таких действий и процессов, как сеанс обмена мгновенными сообщениями, телефонные звонки по протоколу VoIP и конференц-связь. Данный командлет впервые появился в Lync Server 2010.

## Синтаксис

    Get-CsCdrConfiguration [-Identity <XdsIdentity>] <COMMON PARAMETERS>

    Get-CsCdrConfiguration [-Filter <String>] <COMMON PARAMETERS>

    COMMON PARAMETERS: [-LocalStore <SwitchParameter>]

## Примеры

## ПРИМЕР 1

В этом примере командлет **Get-CsCdrConfiguration** используется для возврата коллекции всех параметров CDR, настроенных для использования в данной организации.

    Get-CsCdrConfiguration

## ПРИМЕР 2

В примере 2 параметр Identity используется для возврата одной коллекции параметров CDR: параметров со значением Identity site:Redmond.

    Get-CsCdrConfiguration -Identity site:Redmond

## ПРИМЕР 3

В примере 3 параметр Filter используется для возврата всех параметров CDR, которые были настроены для этого уровня сайта. Значение фильтра "site:\*" возвращает параметры CDR, для которых значение параметра Identity начинается со строкового значения "site:". По определению это параметры, которые были настроены для этого уровня сайта.

    Get-CsCdrConfiguration -Filter site:*

## ПРИМЕР 4

В примере 4 извлекается коллекция всех параметров CDR, для которых значение свойства KeepCallDetailForDays меньше 30 дней. Для этого команда сначала использует командлет **Get-CsCdrConfiguration**, чтобы получить коллекцию всех параметров CDR, настроенных для организации. Эта коллекция затем передается командлету **Where-Object**, выбирающему только те параметры, для которых значение KeepCallDetailForDays меньше 30 дней.

    Get-CsCdrConfiguration | Where-Object {$_.KeepCallDetailForDays -lt 30}

## Подробное описание

Регистрация вызовов (CDR) предоставляет способ для отслеживания использования возможностей Lync Server, таких как телефонные звонки по протоколу VoIP; обмен мгновенными сообщениями; передача файлов; проведение аудио- и видеоконференций и сеансы общего доступа к приложениям. Регистрация вызовов (которая доступна только в случае, если была развернута служба мониторинга) сохраняет следующую информацию об использовании: она заносит в журнал сведения, например об участниках телефонного звонка, его продолжительности, а также о том, передавались ли при этом файлы. (Однако при регистрации вызовов не производится запись самого разговора.)

CDR также отслеживает ошибки вызовов, например подробные диагностические данные одноранговых сеансов и конференций.

Пользователь, являющийся администратором, может определить, может ли регистрация вызовов использоваться в его организации. Если служба мониторинга была развернута в организации, регистрацию вызовов можно как включить, так и отключить. Кроме того, администратор может принять решение об этом как на глобальной основе (когда регистрация вызовов будет либо включена, либо отключена по всей организации), так и отдельно для каждого сайта. Например, регистрация вызовов может использоваться для сайта Redmond, но не использоваться для сайта Paris.

Командлет **Get-CsCdrConfiguration** предоставляет способ для возврата подробной информации об использовании регистрации вызовов в организации.

Кто может запускать этот командлет: по умолчанию локально запускать командлет **Get-CsCdrConfiguration** имеют право участники следующих групп: RTCUniversalUserAdmins, RTCUniversalServerAdmins. Чтобы получить список всех ролей управления доступом на основе ролей (RBAC), которые были назначены для этого командлета (включая все созданные вами роли RBAC), выполните следующую команду из командной строки Windows PowerShell:

Get-CsAdminRole | Where-Object {$\_.Cmdlets –match "Get-CsCdrConfiguration"}

## Параметры


<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th>Параметр</th>
<th>Обязательный?</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><em>Filter</em></p></td>
<td><p>Необязательный</p></td>
<td><p>System.String</p></td>
<td><p>Позволяет использовать подстановочные знаки для возврата коллекции параметров настройки регистрации вызовов. Например, чтобы возвратить коллекцию параметров, настроенных для уровня сайта, используется следующий синтаксис: -Filter site:*. Чтобы возвратить коллекцию всех параметров, в которых имеется строковое значение &quot;Western&quot; в параметре Identity, используется следующий синтаксис: -Filter *Western*.</p></td>
</tr>
<tr class="even">
<td><p><em>Identity</em></p></td>
<td><p>Необязательный</p></td>
<td><p>Microsoft.Rtc.Management.Xds.XdsIdentity</p></td>
<td><p>Указывает уникальный для коллекции параметров настройки регистрации вызовов, которую требуется возвратить. Применительно к глобальным параметрам следует использовать следующий синтаксис: -Identity global. Применительно к параметрам, настраиваемым для уровня сайта, следует использовать следующий синтаксис: -Identity site:Redmond. Обратите внимание, что здесь при определении параметра Identity не могут использоваться подстановочные знаки. Если их требуется использовать, необходимо воспользоваться параметром Filter.</p>
<p>Если этот параметр не указан, командлет <strong>Get-CsCdrConfiguration</strong> возвращает коллекцию всех параметров конфигурации CDR, которая используется в организации в настоящее время.</p></td>
</tr>
<tr class="odd">
<td><p><em>LocalStore</em></p></td>
<td><p>Необязательный</p></td>
<td><p>System.Management.Automation.SwitchParameter</p></td>
<td><p>Получает данные о настройке регистрации вызовов из локальной реплики управления, а не непосредственно от управления.</p></td>
</tr>
</tbody>
</table>


## Типы входных данных

Нет. Командлет **Get-CsCdrConfiguration** не принимает конвейерные входные данные.

## Типы возвращаемых данных

Командлет **Get-CsCdrConfiguration** возвращает экземпляры объекта Microsoft.Rtc.Management.WritableConfig.Settings.CallDetailRecording.CdrSettings.

## См. также

#### Другие ресурсы

[New-CsCdrConfiguration](new-cscdrconfiguration.md)  
[Remove-CsCdrConfiguration](remove-cscdrconfiguration.md)  
[Set-CsCdrConfiguration](set-cscdrconfiguration.md)

