---
title: Remove-CsCdrConfiguration
TOCTitle: Remove-CsCdrConfiguration
ms:assetid: 64352746-a03c-434a-9baf-4d9cd630e9da
ms:mtpsurl: https://technet.microsoft.com/ru-ru/library/Gg398451(v=OCS.15)
ms:contentKeyID: 49309983
ms.date: 05/19/2016
mtps_version: v=OCS.15
ms.translationtype: HT
---

# Remove-CsCdrConfiguration

 

_**Дата изменения раздела:** 2015-03-09_

Удаляет указанные коллекции настроек регистрации вызовов (CDR). Технология CDR позволяет отслеживать одноранговые сеансы обмена мгновенными сообщениями, протокол VoIP, телефонные вызовы и конференц-вызовы. Такие данные об использовании содержат информацию о вызывающих абонентах и адресатах вызовов, времени вызова и продолжительности разговора Данный командлет впервые появился в Lync Server 2010.

## Синтаксис

    Remove-CsCdrConfiguration -Identity <XdsIdentity> [-Confirm [<SwitchParameter>]] [-Force <SwitchParameter>] [-WhatIf [<SwitchParameter>]]

## Примеры

## ПРИМЕР 1

В примере 1 командлет **Remove-CsCdrConfiguration** используется для удаления параметров CDR, назначенных для сайта Redmond. Использование параметра Identity обеспечивает удаление только тех параметров, которые назначены указанному сайту.

    Remove-CsCdrConfiguration -Identity site:Redmond

## ПРИМЕР 2

Команда, представленная в примере 2, служит для удаления всех параметров CDR, которые были назначены в области сайта. Для этого команда сначала использует командлет **Get-CsCdrConfiguration** и параметр Filter для получения соответствующих параметров CDR. Строковое значение "site:\*" обеспечивает возврат только тех параметров, которые содержат свойство Identity, начинающееся с символов "site:". После фильтрации коллекция передается в командлет **Remove-CsCdrConfiguration**, который удаляет все элементы в коллекции.

    Get-CsCdrConfiguration -Filter site:* | Remove-CsCdrConfiguration

## ПРИМЕР 3

В примере 3 удаляются все параметры CDR, где для свойства KeepCallDetailForDays задано значение менее 30 дней. Чтобы выполнить эту задачу, команда вызывает командлет **Get-CsCdrConfiguration** без параметров для получения коллекции всех параметров CDR, которые в настоящее время используются в организации. Эта коллекция затем передается в командлет **Where-Object**, который выбирает только те параметры, где для свойства KeepCallDetailForDays задано значение менее 30 дней. После фильтрации коллекция передается в командлет **Remove-CsCdrConfiguration**, который удаляет все элементы в этой коллекции.

    Get-CsCdrConfiguration | Where-Object {$_.KeepCallDetailForDays -lt 30} | Remove-CsCdrConfiguration

## Подробное описание

Регистрация вызовов (CDR) предоставляет возможность отслеживать использование таких функций Lync Server, как телефонные вызовы по протоколу VoIP, обмен мгновенными сообщениями, передача файлов, аудио- и видеоконференция и сеансы совместной работы с приложением. Технология CDR (доступная только после развертывания службы мониторинга) регистрирует в журнале данные об использовании: абоненты, участвующие в вызове, продолжительность разговора и факт передачи данных (тем не менее, CDR не записывает непосредственно содержимое разговора).

CDR также отслеживает ошибки вызовов, например подробные диагностические данные одноранговых сеансов и конференц-вызовов.

Использование CDR в инфраструктуре предприятия определяется администратором. Если выполнено развертывание службы мониторинга, можно легко активировать или деактивировать CDR. Кроме того, эта процедура может применяться глобально (в этом случае функция CDR активируется или деактивируется в масштабах всего предприятия) или для каждого отдельного сайта. Например, можно использовать CDR для сайта Redmond, но не для сайта Paris.

Индивидуальные параметры сайта, созданные с помощью командлета **New-CsCdrConfiguration**, впоследствии можно удалить, используя командлет **Remove-CsCdrConfiguration**. При удалении индивидуальных параметров сайта управление CDR для данного сайта будет автоматически осуществляться глобальными параметрами конфигурации CDR.

Также можно выполнить командлет **Remove-CsCdrConfiguration** для глобальных параметров CDR. Тем не менее, поскольку глобальные параметры не подлежат удалению, вместо этого будут восстановлены их значения по умолчанию. Например, для свойства KeepCallDetailForDays в глобальных параметрах задано значение 90. При выполнении командлета **Remove-CsCdrConfiguration** для глобальных параметров будет восстановлено значение этого свойства по умолчанию (60).

Пользователи, которым разрешено использование командлета: по умолчанию локальный запуск командлета **Remove-CsCdrConfiguration** разрешен участникам следующих групп: RTCUniversalServerAdmins. Для возврата списка ролей для управления доступом на основе ролей (RBAC), для которого назначен этот командлет (включая все настраиваемые роли RBAC, созданные вами самостоятельно), необходимо выполнить следующую команду в командной строке Windows PowerShell:

Get-CsAdminRole | Where-Object {$\_.Cmdlets –match "Remove-CsCdrConfiguration"}

## Параметры


<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th>Параметр</th>
<th>Обязательный?</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><em>Identity</em></p></td>
<td><p>Обязательный</p></td>
<td><p>Microsoft.Rtc.Management.Xds.XdsIdentity</p></td>
<td><p>Уникальный идентификатор настроек конфигурации CDR, которые следует удалить. Для удаления глобальных настроек рекомендуется использовать следующий синтаксис: -Identity global (обратите внимание, что фактически удалить глобальные настройки невозможно; единственное доступное действие - восстановление значений по умолчанию). Для удаления настроек из области сайта используйте следующий синтаксис: -Identity site:Redmond. Использование подстановочных знаков для указания идентификатора не допускается.</p></td>
</tr>
<tr class="even">
<td><p><em>Confirm</em></p></td>
<td><p>Необязательный</p></td>
<td><p>System.Management.Automation.SwitchParameter</p></td>
<td><p>Запрашивает подтверждение перед выполнением команды.</p></td>
</tr>
<tr class="odd">
<td><p><em>Force</em></p></td>
<td><p>Необязательный</p></td>
<td><p>System.Management.Automation.SwitchParameter</p></td>
<td><p>Запрещает отображение всех сообщений о некритических ошибках на время выполнения команды.</p></td>
</tr>
<tr class="even">
<td><p><em>WhatIf</em></p></td>
<td><p>Необязательный</p></td>
<td><p>System.Management.Automation.SwitchParameter</p></td>
<td><p>Описывает, что произойдет при выполнении команды без реального выполнения команды.</p></td>
</tr>
</tbody>
</table>


## Типы входных данных

Microsoft.Rtc.Management.WritableConfig.Settings.CallDetailRecording.CdrSettings. Командлет **Remove-CsCdrConfiguration** принимает переданные входные значения объектов конфигурации CDR.

## Типы возвращаемых данных

Нет. Вместо этого командлет удаляет экземпляры объекта Microsoft.Rtc.Management.WritableConfig.Settings.CallDetailRecording.CdrSettings.

## См. также

#### Другие ресурсы

[Get-CsCdrConfiguration](get-cscdrconfiguration.md)  
[New-CsCdrConfiguration](new-cscdrconfiguration.md)  
[Set-CsCdrConfiguration](set-cscdrconfiguration.md)

