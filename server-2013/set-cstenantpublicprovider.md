---
title: Set-CsTenantPublicProvider
TOCTitle: Set-CsTenantPublicProvider
ms:assetid: 8341d801-bfa1-4c5b-9b80-5d503deebaf7
ms:mtpsurl: https://technet.microsoft.com/ru-ru/library/JJ994047(v=OCS.15)
ms:contentKeyID: 52058263
ms.date: 05/19/2016
mtps_version: v=OCS.15
ms.translationtype: HT
---

# Set-CsTenantPublicProvider

 

_**Дата изменения раздела:** 2015-03-09_

Включает и отключает взаимодействие со сторонними поставщиками услуг обмена мгновенными сообщениями и сведениями о присутствии Windows Live, AOL и Yahoo. Если включено, пользователи Microsoft Lync Online могут обмениваться мгновенными сообщениями и сведениями о присутствии с пользователями, у которых есть учетные записи у одного из указанных общедоступных поставщиков услуг.

Командлет **Set-CsTenantPublicProvider** может использоваться только с Skype для бизнеса Online.

## Синтаксис

    Set-CsTenantPublicProvider -Tenant <String> [-Provider <String[]>] [-Verbose] [-WhatIf] [-Confirm]

## Примеры

## Пример 1

Показанная в примере 1 команда включает федерацию с Windows Live для клиента с идентификатором bf19b7db-6960-41e5-a139-2aa373474354. Так как Windows Live — единственный указанный поставщик услуг, после выполнения этой команды поставщики услуг AOL и Yahoo будут отключены.

    Set-CsTenantPublicProvider -Tenant "bf19b7db-6960-41e5-a139-2aa373474354" -Provider "WindowsLive"

## Пример 2

В примере 2 включены два общедоступных поставщика услуг: Windows Live и AOL. Это означает, что для указанного клиента будет отключен только общедоступный поставщик услуг Yahoo.

    Set-CsTenantPublicProvider -Tenant "bf19b7db-6960-41e5-a139-2aa373474354" -Provider "WindowsLive","AOL"

## Пример 3

В примере 3 показано, как отключить всех общедоступных поставщиков для заданного клиента. Для этого свойству Provider в качестве значения задается пустая строка ("").

    Set-CsTenantPublicProvider -Tenant "bf19b7db-6960-41e5-a139-2aa373474354" -Provider ""

## Пример 4

Команда, показанная в примере 4, отключает всех общедоступных поставщиков услуг для всех клиентов Lync Online. Для выполнения этой задачи данная команда сначала с помощью командлета **Get-CsTenant** возвращает коллекцию всех клиентов. Затем эта коллекция по конвейеру передается командлету **ForEach-Object**, который к каждому клиенту из коллекции применяет командлет **Set-CsTenantPublicProvider** и отключает всех общедоступных поставщиков услуг. Последняя задача выполняется путем задания свойству Provider пустой строки ("") в качестве значения.

    Get-CsTenant | ForEach-Object {Set-CsTenantPublicProvider -Tenant $_.TenantId -Provider ""}

## Подробное описание

Общедоступные поставщики — это организации, которые предоставляют услуги связи SIP неограниченному кругу лиц. При установке федеративных отношений с общедоступным поставщиком услуг фактически устанавливаются отношения со всеми пользователями, учетные записи которых размещаются этим поставщиком. Например, если вы установите федеративные отношения с Windows Live, ваши пользователи смогут обмениваться мгновенными сообщениями и сведениями о присутствии со всеми, у кого есть учетная запись службы мгновенных сообщений Windows Live.

Lync Online предоставляет администраторам возможность настройки федерации с одним или несколькими общедоступными поставщиками услуг обмена мгновенными сообщениями и сведениями о присутствии, указанными ниже:

  -   
    Windows Live

  -   
    AOL

  -   
    Yahoo\!

Командлет **Set-CsTenantPublicProvider** можно использовать для включения или отключения федерации с любым из этих общедоступных поставщиков услуг. При использовании этого командлета следует помнить, что при каждом выполнении командлета **Set-CsTenantPublicProvider** необходимо указывать всех общедоступных поставщиков услуг, которых следует включить. Например, предположим, что все три поставщика услуг отключены и выполняется следующая команда:

    Set-CsTenantPublicProvider -Tenant "bf19b7db-6960-41e5-a139-2aa373474354" -Provider "WindowsLive"

Как можно ожидать, будет включен поставщик услуг Windows Live, а AOL и Yahoo останутся отключенными.

Теперь предположим, что затем выполняется следующая команда:

    Set-CsTenantPublicProvider -Tenant "bf19b7db-6960-41e5-a139-2aa373474354" -Provider "AOL"

Эта команда включает поставщика услуг AOL, но также отключает поставщика услуг Windows Live, так как Windows Live не был указан в значении параметра Provider. Чтобы включить AOL и оставить включенным Windows Live, вызывая командлет Set-CsTenantPublicProvider, необходимо указать обоих поставщиков, AOL и Windows Live:

    Set-CsTenantPublicProvider -Tenant "bf19b7db-6960-41e5-a139-2aa373474354" -Provider "AOL","WindowsLive"

Чтобы отключить федерацию для всех трех поставщиков услуг, задайте свойству Provider пустую строку ("") в качестве значения:

    Set-CsTenantPublicProvider -Tenant "bf19b7db-6960-41e5-a139-2aa373474354" -Provider ""

Обратите внимание, что простое включение состояния общедоступного поставщика услуг не означает, что пользователи могут обмениваться мгновенными сообщениями и сведениями о присутствии с пользователями, у которых есть учетные записи данного поставщика услуг. Кроме того, разрешая федерацию с самим поставщиком услуг, администраторы также должны в настройках конфигурации федерации задать свойству AllowPublicUsers значение True. Если данному свойству задано значение False, тогда не разрешена связь с любыми общедоступными поставщиками независимо от параметров конфигурации общедоступных поставщиков услуг.

## Параметры


<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th>Параметр</th>
<th>Обязательный?</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><em>Tenant</em></p></td>
<td><p>Обязательный?</p></td>
<td><p>System.Guid</p></td>
<td><p>Глобальный уникальный идентификатор (GUID) учетной записи клиента, для которой изменяются параметры общедоступных поставщиков услуг. Например:</p>
<p>–Tenant &quot;38aad667-af54-4397-aaa7-e94c79ec2308&quot;</p>
<p>Идентификатор tenant ID каждого из клиентов можно получить с помощью этой команды:</p>
<pre><code>Get-CsTenant | Select-Object DisplayName, TenantID</code></pre>
<p>Get-CsTenant | Select-Object DisplayName, TenantID</p></td>
</tr>
<tr class="even">
<td><p><em>Confirm</em></p></td>
<td><p>Необязательный</p></td>
<td><p>System.Management.Automation.SwitchParameter</p></td>
<td><p>Запрашивает подтверждение перед выполнением команды.</p></td>
</tr>
<tr class="odd">
<td><p><em>Provider</em></p></td>
<td><p>Необязательный</p></td>
<td><p>System.String[]</p></td>
<td><p>Указывает общедоступного поставщика или поставщиков услуг, с которыми пользователям будет разрешено взаимодействовать. Допустимые значения:</p>
<p>* AOL</p>
<p>* WindowsLive</p>
<p>* Yahoo</p>
<p>Обратите внимание, что при настройке общедоступных поставщиков любой поставщик, включенный в значение параметра Provider, будет разрешен для использования, а поставщики, не включенные в значение параметра, будут отключены. Например, следующий синтаксис включает только Yahoo и отключает Windows Live и AOL:</p>
<p>-Provider &quot;AOL&quot;</p>
<p>Можно включить несколько поставщиков услуг, разделяя их имена запятыми:</p>
<p>-Provider &quot;AOL&quot;,&quot;WindowsLive&quot;</p></td>
</tr>
<tr class="even">
<td><p><em>WhatIf</em></p></td>
<td><p>Необязательный</p></td>
<td><p>System.Management.Automation.SwitchParameter</p></td>
<td><p>Описывает, что произойдет при выполнении команды без реального выполнения команды.</p></td>
</tr>
</tbody>
</table>


## Типы входных данных

Командлет **Set-CsTenantPublicProvider** принимает конвейерные экземпляры объекта Microsoft.Rtc.Management.Hosted.TenantPICStatus.

## Типы возвращаемых данных

Нет. Вместо этого командлет **Set-CsTenantPublicProvider** изменяет существующие экземпляры объекта Microsoft.Rtc.Management.Hosted.TenantPICStatus.

## См. также

#### Другие ресурсы

[Get-CsTenantPublicProvider](get-cstenantpublicprovider.md)

